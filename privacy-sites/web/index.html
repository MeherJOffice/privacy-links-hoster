
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Privacy Links Hoster</title>
  <link rel="icon" href="/favicon.ico">
  <style>
    :root{
      --bg:#0b1020; --panel:#0f1731; --card:#0c1330; --text:#e9edf7;
      --muted:#a9b7da; --accent:#6aa7ff; --border:#1d2a4d;
      --ok:#35c26b; --err:#ff667a; --warn:#ffb84d;
    }
    *{box-sizing:border-box}
    body{margin:0;font:15px/1.6 system-ui,Segoe UI,Roboto,-apple-system;
         color:var(--text);background:linear-gradient(180deg,#0a0f22,#0b1020)}
    .wrap{max-width:980px;margin:28px auto;padding:0 16px}
    h1{font-size:22px;margin:0 0 8px}
    .sub{color:var(--muted);margin:0 0 18px}
    .card{background:var(--panel);border:1px solid var(--border);
          border-radius:16px;padding:18px;box-shadow:0 10px 40px rgba(0,0,0,.35);margin-bottom:12px}
    label{display:block;margin:12px 0 6px;color:var(--muted)}
    input,select,textarea,button{width:100%;padding:12px 14px;border-radius:12px;
       border:1px solid var(--border);background:var(--card);color:var(--text)}
    textarea{min-height:120px;resize:vertical}
    input:focus,select:focus,textarea:focus{outline:2px solid var(--accent)}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .row-1{display:grid;grid-template-columns:1fr;gap:12px}
    .actions{display:flex;gap:10px;margin-top:14px;flex-wrap:wrap}
    .btn{cursor:pointer;background:var(--accent);border:0;font-weight:700;transition:transform .06s}
    .btn:active{transform:scale(.99)}
    .ghost{background:transparent;border-color:var(--border)}
    .muted{color:var(--muted)}
    .ok{color:var(--ok)} .err{color:var(--err)} .warn{color:var(--warn)}
    .pillbar{display:flex;gap:8px;flex-wrap:wrap;margin:6px 0 10px}
    .pill{padding:8px 12px;border-radius:999px;border:1px solid var(--border);background:transparent;color:var(--muted);cursor:pointer;width:auto}
    .pill[aria-pressed="true"]{background:var(--accent);border-color:var(--accent);color:#0b1020;font-weight:700}
    .hidden{display:none!important}

    .mode-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .mode-card{display:flex;flex-direction:column;gap:6px;padding:18px;border-radius:12px;border:1px dashed var(--border);background:#0f1836;cursor:pointer}
    .mode-card:hover{border-color:var(--accent)}
    .mode-title{font-weight:800}
    /* Modal preview */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.52);display:none;align-items:center;justify-content:center;padding:24px}
    .modal.show{display:flex}
    .panel{background:#0b0f24;border:1px solid var(--border);border-radius:16px;max-width:980px;width:100%;height:86vh;display:flex;flex-direction:column}
    .panel-head{display:flex;gap:10px;align-items:center;padding:10px;border-bottom:1px solid var(--border)}
    .panel-head .grow{flex:1}
    .panel-body{flex:1;background:#fff;border-bottom-left-radius:16px;border-bottom-right-radius:16px}
    .panel-actions button{width:auto}
    @media (max-width:720px){ .row{grid-template-columns:1fr} .mode-grid{grid-template-columns:1fr} .actions>*{flex:1} }
    .foot{color:var(--muted);font-size:13px;text-align:center;margin:24px 0}
  </style>
  <script type="module" src="/main.js?v=241"></script>
</head>
<body>
  <div class="wrap">
    <h1>Privacy Links Hoster</h1>
    <p class="sub">Generate & host privacy policy pages with unique, shareable links</p>

    <!-- STEP 1: App Gate -->
    <section id="appGate" class="card">
      <div class="row">
        <div>
          <label for="gName">Product / App Name</label>
          <input id="gName" placeholder="e.g. Tiny Rummor" autocomplete="off">
        </div>
        <div>
          <label for="gEmail">Contact Email</label>
          <input id="gEmail" type="email" placeholder="support@studio.com" autocomplete="email">
        </div>
      </div>
      <label for="gSlug">Site Slug</label>
      <div class="row">
        <input id="gSlug" placeholder="auto-generated from Product Name">
        <button id="gGen" class="ghost" type="button">Generate</button>
      </div>
      <div id="gSlugMsg" class="muted">Policy URL → <span id="gUrlPreview" class="muted">https://…</span></div>
      <div class="actions">
        <button id="toMode" class="btn">Next</button>
      </div>
    </section>

    <!-- STEP 2: Mode Gate -->
    <section id="modeGate" class="card hidden">
      <label>Choose how you want to host:</label>
      <div class="mode-grid">
        <div id="chooseFast" class="mode-card">
          <div class="mode-title">Fast hosting (use a template)</div>
          <div class="muted">Pick a style preset and publish in one click. You can preview a random template first.</div>
        </div>
        <div id="chooseAi" class="mode-card">
          <div class="mode-title">Custom hosting (AI + questionnaire)</div>
          <div class="muted">Answer a few questions, generate a fully-styled policy with AI, then publish.</div>
        </div>
      </div>
    </section>

    <!-- FAST HOSTING -->
    <section id="fastPanel" class="card hidden">
      <div class="row">
        <div>
          <label for="name">Product / App Name</label>
          <input id="name" autocomplete="off">
        </div>
        <div>
          <label for="email">Contact Email</label>
          <input id="email" type="email">
        </div>
      </div>
      <label for="slug">Site Slug</label>
      <div class="row">
        <input id="slug">
        <button id="genSlug" type="button" class="ghost">Generate</button>
      </div>
      <div id="slugMsg" class="muted">Policy URL → <span id="urlPreview" class="muted">https://…</span></div>
      <div id="slugError" class="err hidden"></div>

      <label>Style preset</label>
      <div id="presetBar" class="pillbar" role="group" aria-label="Preset">
        <button class="pill" data-value="professional" aria-pressed="true">Professional</button>
        <button class="pill" data-value="playful" aria-pressed="false">Playful</button>
        <button class="pill" data-value="techy" aria-pressed="false">Techy</button>
      </div>

      <div class="actions">
        <button id="previewTpl" class="ghost">Preview template</button>
        <button id="createBtn" class="btn">Create Policy Link</button>
        <button id="resetBtn" class="ghost">Reset</button>
      </div>
      <div id="out" class="muted"></div>
    </section>

    <!-- AI HOSTING -->
    <section id="aiPanel" class="card hidden">
      <div class="steps">
        <div class="step" data-step="1">1. App</div>
        <div class="step" data-step="2">2. Policy details</div>
        <div class="step" data-step="3">3. Design</div>
        <div class="step" data-step="4">4. Review</div>
      </div>

      <div id="s1" class="row">
        <div>
          <label for="aiName">Product / App Name</label>
          <input id="aiName">
        </div>
        <div>
          <label for="aiEmail">Contact Email</label>
          <input id="aiEmail" type="email">
        </div>
        <div>
          <label for="aiSlug">Site Slug</label>
          <input id="aiSlug">
          <div id="aiSlugMsg" class="muted"></div>
        </div>
      </div>

      <div id="s2" class="row-1 hidden">
        <div>
          <label>Compliance</label>
          <div id="qCompliance" class="pillbar" data-multi="true">
            <button class="pill" data-value="GDPR">GDPR</button>
            <button class="pill" data-value="CCPA">CCPA</button>
            <button class="pill" data-value="COPPA">COPPA</button>
          </div>
        </div>
        <div>
          <label>Data types collected</label>
          <div id="qDataTypes" class="pillbar" data-multi="true">
            <button class="pill" data-value="Account">Account</button>
            <button class="pill" data-value="Usage">Usage</button>
            <button class="pill" data-value="Device">Device</button>
            <button class="pill" data-value="Location">Location</button>
            <button class="pill" data-value="Contacts">Contacts</button>
          </div>
        </div>
        <div>
          <label>Analytics / Monetization</label>
          <div id="qAnalytics" class="pillbar" data-multi="true">
            <button class="pill" data-value="Firebase Analytics">Firebase Analytics</button>
            <button class="pill" data-value="Google Analytics">Google Analytics</button>
            <button class="pill" data-value="Ads">Ads</button>
            <button class="pill" data-value="In-app Purchases">In-app Purchases</button>
          </div>
        </div>
        <div>
          <label for="qRetention">Retention policy (free text)</label>
          <input id="qRetention" placeholder="e.g. We retain data only as long as necessary…">
        </div>
      </div>

      <div id="s3" class="row-1 hidden">
        <div>
          <label>Tone</label>
          <div id="qTone" class="pillbar" data-multi="false">
            <button class="pill" data-value="professional">Professional</button>
            <button class="pill" data-value="playful">Playful</button>
            <button class="pill" data-value="techy">Techy</button>
            <button class="pill" data-value="minimal">Minimal</button>
          </div>
        </div>
        <div class="row">
          <div>
            <label for="qTheme">Theme</label>
            <select id="qTheme">
              <option value="Card">Card</option>
              <option value="Aurora">Aurora</option>
              <option value="Glass">Glass</option>
              <option value="Neon">Neon</option>
              <option value="Paper">Paper</option>
              <option value="Columns">Columns</option>
            </select>
          </div>
          <div>
            <label for="qAccent">Accent color</label>
            <input id="qAccent" type="color" value="#6aa7ff" />
          </div>
        </div>
        <div>
          <label for="qBg">Background fx</label>
          <select id="qBg">
            <option value="none">None</option>
            <option value="Aurora">Aurora</option>
            <option value="Grid">Grid</option>
            <option value="Noise">Noise</option>
            <option value="Vignette">Vignette</option>
          </select>
        </div>
        <div>
          <label for="qExtra">Extra instructions</label>
          <textarea id="qExtra" placeholder="Any extra details for the AI..."></textarea>
        </div>
      </div>

      <div id="s4" class="row-1 hidden">
        <label>Generated AI prompt (editable)</label>
        <textarea id="aiPrompt"></textarea>
      </div>

      <div class="actions">
        <button id="aiPrev" class="ghost" disabled>Back</button>
        <button id="aiNext" class="ghost">Next</button>
        <button id="aiPreviewBtn" class="btn hidden">Preview with AI</button>
      </div>
    </section>

    <div class="foot">Created by <strong>Meher Davanci</strong> © 2025 —
      <a href="https://www.davanciink.com" target="_blank" rel="noopener">www.davanciink.com</a>
    </div>
  </div>

  <!-- Modal -->
  <div id="previewModal" class="modal" aria-hidden="true">
    <div class="panel">
      <div class="panel-head">
        <strong>AI Preview</strong>
        <div class="grow"></div>
        <div class="panel-actions">
          <button id="refreshPreview" class="ghost">Refresh</button>
          <button id="usePreview" class="btn">Use this version</button>
          <button id="closePreview" class="ghost">Close</button>
        </div>
      </div>
      <iframe id="previewFrame" class="panel-body" sandbox="allow-same-origin"></iframe>
    </div>
  </div>
</body>
</html>
